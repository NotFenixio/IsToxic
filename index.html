<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script>
<script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/toxicity"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
<div class="min-h-full">
  <nav class="bg-gray-800">
    <div class="mx-auto max-w-10xl px-4 sm:px-6 lg:px-9">
        <div class="flex items-center">
          <div class="flex flex-nowrap space-x-4">
            <img class="h-10" src="https://notfenixio.github.io/IsToxic/logo.png" alt="IsToxic">
            <h1 class="text-3xl font-bold tracking-tight text-white">IsToxic</h1>
          </div>
        </div>
    </div>
    </nav>

  <header class="bg-white shadow-lg rounded-xl">
    <div class="mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8">
      <h1 class="text-xl font-bold tracking-tight text-gray-900">Analize</h1>
    </div>
  </header>
  <main>
    <div class="mx-auto max-w-7xl py-6 sm:px-6 lg:px-8">
      Enter the text you want to analize bellow...
      <textarea id="message" rows="4" class="block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" placeholder="i.e.: You suck."></textarea>
      <button type="button" onclick="run()">Click Me!</button>
      <script>
        function run() {
          const message = document.getElementById("message").value;
          const threshold = 0.9;

          toxicity.load(threshold).then(model => {
            const sentences = [message];
            model.classify(sentences).then(predictions => {
              console.log(predictions);
              }
            )
          },);
        }
      </script>
    </div>
  </main>
</div>
